{{#if target_package_name}}package {{target_package_name}};{{/if}}

import com.legstar.base.context.CobolContext;
import com.legstar.base.context.EbcdicCobolContext;
import com.legstar.base.type.FromHostResult;
import com.legstar.jaxb.converter.Cob2JaxbConverter;

public class {{class_name}} {
    
    private final CobolContext cobolContext;
    
    public {{class_name}}() {
        cobolContext = new EbcdicCobolContext();
    }
    
    public FromHostResult < {{#if jaxb_package_name}}{{jaxb_package_name}}.{{/if}}{{root_type_name}} > convert(
            byte[] hostData, int start) {
        Cob2JaxbConverter visitor = new Cob2JaxbConverter(cobolContext,
                hostData, start, new {{jaxb_wrappers_factory_class_name}}());
        visitor.visit(new Cobol{{root_type_name}}());
        return new FromHostResult < {{#if jaxb_package_name}}{{jaxb_package_name}}.{{/if}}{{root_type_name}} >(
                visitor.getLastPos(),
                ({{#if jaxb_package_name}}{{jaxb_package_name}}.{{/if}}{{root_type_name}}) visitor.getLastObject());
    }    

}
